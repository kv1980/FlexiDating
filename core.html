<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link href="css/flexidating.css" rel="stylesheet">
        <title>FlexiDating</title>
    </head>
    <body>
        <section class="Header">
            <div class="row">
                <div class="col-md-8"><img src="img/Flexi.png" class="banner" alt="Flexi logo"></div>
                <div class="col-md-4">
                    <p class="HeaderNickName">Naam</p>
                    <a class="HeaderLinks">Profiel Wijzigen</a>
                    <a class="HeaderLinks" href="flexidating.html">Uitloggen</a>
                </div>
            </div>
        </section>
        <section>
            <div class="ZoekParameters row">
                <div class="col-md-4">
                    <ul>
                        <li class="ZoekItem">
                            <label class="ZoekLabel">Leeftijd</label>
                            <label for="minleeftijd">Min</label>
                            <input type="number" class="GetallenBox" id="minleeftijd">
                            <label for="maxleeftijd">Max</label>
                            <input type="number" class="GetallenBox" id="maxleeftijd">
                        </li>
                        <li class="ZoekItem">
                            <label class="ZoekLabel" for="haarkleur">Haarkleur</label>
                            <select name="haarkleur" id="haarkleur">
                                
                            </select>
                        </li>
                        <li class="ZoekItem">
                            <label class="ZoekLabel" for="oogkleur">Oogkleur</label>
                            <select name="oogkleur" id="oogkleur">
                    
                            </select>
                        </li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <ul>
                        <li class="ZoekItem">
                            <label class="ZoekLabel">Grootte</label>
                            <label for="minGrootte">Min</label>
                            <input type="number" class="GetallenBox" id="minGrootte">
                            <label for="maxGrootte">Max</label>
                            <input type="number" class="GetallenBox" id="maxGrootte">
                               
                            
                        </li>
                        <li class="ZoekItem">
                             <li class="ZoekItem">
                            <label class="ZoekLabel">Gewicht</label>
                            <label for="minGewicht">Min</label>
                            <input type="number" class="GetallenBox" id="minGewicht">
                            <label for="maxGewicht">Max</label>
                            <input type="number" class="GetallenBox" id="maxGewicht">
                          
                        </li>
                        <li class="ZoekItem">
                            <label class="ZoekLabel">Ik zoek</label>
                            <label for="kiesMan">Man</label>
                            <input type="radio" class="ZoekRadio" name="sexvoorkeur" id="kiesMan" value="man" checked="checked"/>
                            <label for="kiesVrouw">Vrouw</label>
                            <input type="radio" class="ZoekRadio" name="sexvoorkeur" id="kiesVrouw" value="vrouw"/>
                            <label for="kiesBeide">Beide</label>
                            <input type="radio" class="ZoekRadio" name="sexvoorkeur" id="kiesBeide" value="beide"/>
                        </li>
                    </ul>
                </div>
                <div class="col-md-4">
				<ul>
					<li id="zoekKnop">
						<input type="submit" value="Zoeken"/>
					</li>
                    <li id="logo">
						<img src="img/logo.png" alt="Flexi logo">
					</li>
                </ul>
            </div>
        </section>
        <section>
			<div class="ZoekResultaten" id ="zoekMatrix">
			</div>
		</section>
        <footer class="Footer">
			<ul>
				<li id="footer_add">
					<img src="img/BabyDeals.png">
				</li>
			</ul>
		</footer>
    
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
        <script async src="js/flexi_dating.min.js"></script>

        <script src ="js/kleurenHaren.json" type="text/javascript"></script>
        <script src ="js/kleurenOgen.json" type="text/javascript"></script>
        <script type="text/javascript">
            
            
            window.onload = function () {
                vulSelectIn("haarkleur",jsonKleurenHaren);
                vulSelectIn("oogkleur",jsonKleurenOgen);
                
                scrumlib.init();
              
                
                 
             var aSelectieProfielen = scrumlib.getAllProfiles(); 
             //console.log(aSelectieProfielen[0]);
             
//             var oSelectie = {
//                haarkleur:{"waarde":document.getElementById("haarkleur").value, "match": "="},
//                oogkleur:{"waarde":document.getElementById("oogkleur").value, "match": "="},
//                grootte:{"waarde":document.getElementById("minGrootte").value, "match": ">"},
//                grootte:{"waarde":document.getElementById("maxGrootte").value, "match": "<"},
//                gewicht:{"waarde":document.getElementById("minGewicht").value, "match": ">"},
//                gewicht:{"waarde":document.getElementById("maxGewicht").value, "match": "<"},
//               seksvoorkeur:{"waarde":document.getElementById("kiesMan").value, "match": "="},
//               seksvoorkeur:{"waarde":document.getElementById("kiesVrouw").value, "match": "="},
//               seks b voorkeur:{"waarde":document.getElementById("kiesBeide").value, "match": "="},
                
        
 //   }  
 //          var aGeselecteerdeProfielen = scrumlib.getProfilesByConditions(oSelectie);
            var aGeselecteerdeProfielen = scrumlib.getAllProfiles();
           
              var eDivResultaten = document.getElementById("zoekMatrix");
              
              for(var i = 0; i<aGeselecteerdeProfielen.length; i++){
                  eDivIndividu = document.createElement('div');
                  eDivIndividu.setAttribute("id", aGeselecteerdeProfielen[i]._id);
                  eLijst = document.createElement('ul');
                  eLijstItem1 = document.createElement('li');
                  eLijstItem1.innerHTML = aGeselecteerdeProfielen[i].geboortedatum;
                  eLijst.appendChild(eLijstItem1);
                  eLijstItem2 = document.createElement('li');
                  eLijstItem2.innerHTML = aGeselecteerdeProfielen[i].nickname;
                  eLijst.appendChild(eLijstItem2);
                  eLijstItem3 = document.createElement('li');
                  eLijstItem3.innerHTML = aGeselecteerdeProfielen[i].sexe;
                  eLijst.appendChild(eLijstItem3);
                  eDivIndividu.appendChild(eLijst);
                  eDivResultaten.appendChild(eDivIndividu);
              }
             
              
                
                
            
            
          
       
              
            
            
            
        
    
               function vulSelectIn(selectID,jsonID){
                var aKleuren = JSON.parse(jsonID);
                var eSelectKleuren = document.getElementById(selectID);
                for (var i = 0; i < aKleuren.length; i++) {
                    var eOption = document.createElement('option');
                    eOption.innerHTML = aKleuren[i];
                    eOption.value = aKleuren[i];
                    eSelectKleuren.appendChild(eOption);
                };
            };
            
            function berekenLeeftijd(sGeboortedatum){
                var aGeboortedatum = sGeboortedatum.split("-");
                var dGeboortedatum = new Date(aGeboortedatum[0],aGeboortedatum[1]-1,aGeboortedatum[2]);
                var leeftijdMs = Date.now() - dGeboortedatum.getTime();
                var leeftijdDate = new Date(leeftijdMs);
                var leeftijd = Math.abs(leeftijdDate.getUTCFullYear()-1970);
                return leeftijd;
            }
        }
        </script>
    
    </body>
</html>
